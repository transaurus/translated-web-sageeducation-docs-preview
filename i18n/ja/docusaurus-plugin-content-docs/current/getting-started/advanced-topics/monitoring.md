---
sidebar_position: 6
title: "ğŸ“Š Monitoring"
---

# Sage Open WebUIã®ç›£è¦–

Sage Open WebUIã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç›£è¦–ã™ã‚‹ã“ã¨ã¯ã€ä¿¡é ¼æ€§ã®é«˜ã„ã‚µãƒ¼ãƒ“ã‚¹ã‚’ç¢ºä¿ã—ã€å•é¡Œã‚’è¿…é€Ÿã«ç‰¹å®šã™ã‚‹ãŸã‚ã«é‡è¦ã§ã™ã€‚ã“ã®ã‚¬ã‚¤ãƒ‰ã§ã¯ã€ä»¥ä¸‹ã®3ã¤ã®ãƒ¬ãƒ™ãƒ«ã®ç›£è¦–ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ï¼š

- ã‚µãƒ¼ãƒ“ã‚¹å¯ç”¨æ€§ã®åŸºæœ¬çš„ãªãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯
- ãƒ¢ãƒ‡ãƒ«æ¥ç¶šã®æ¤œè¨¼
- ãƒ¢ãƒ‡ãƒ«å¿œç­”ãƒ†ã‚¹ãƒˆã«ã‚ˆã‚‹è©³ç´°ãªãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯

## åŸºæœ¬çš„ãªãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

Sage Open WebUIã¯ã€ã‚µãƒ¼ãƒ“ã‚¹ãŒæ­£å¸¸ã«å‹•ä½œã—ã¦ã„ã‚‹å ´åˆã«200 OKã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’è¿”ã™ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’`/health`ã§å…¬é–‹ã—ã¦ã„ã¾ã™ã€‚

```bash
   # No auth needed for this endpoint
   curl https://your-sage-instance/health
```

### Uptime Kumaã®ä½¿ç”¨

[Uptime Kuma](https://github.com/louislam/uptime-kuma)ã¯ã€ä½¿ã„ã‚„ã™ãã€ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ã§ã€ã‚»ãƒ«ãƒ•ãƒ›ã‚¹ãƒˆå‹ã®ç¨¼åƒæ™‚é–“ç›£è¦–ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚

1. Uptime Kumaãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§ã€Œæ–°ã—ã„ãƒ¢ãƒ‹ã‚¿ãƒ¼ã‚’è¿½åŠ ã€ã‚’ã‚¯ãƒªãƒƒã‚¯
2. ä»¥ä¸‹ã®è¨­å®šã‚’è¡Œã„ã¾ã™ï¼š
   - ãƒ¢ãƒ‹ã‚¿ãƒ¼ã‚¿ã‚¤ãƒ—ï¼šHTTP(s)
   - åå‰ï¼šSage Open WebUI
   - URLï¼š`http://your-sage-instance:8080/health`
   - ç›£è¦–é–“éš”ï¼š60ç§’ï¼ˆã¾ãŸã¯å¸Œæœ›ã®é–“éš”ï¼‰
   - ãƒªãƒˆãƒ©ã‚¤å›æ•°ï¼š3å›ï¼ˆæ¨å¥¨ï¼‰

ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ã§ã¯ä»¥ä¸‹ã‚’ç¢ºèªã—ã¾ã™ï¼š

- Webã‚µãƒ¼ãƒãƒ¼ãŒå¿œç­”ã—ã¦ã„ã‚‹ã“ã¨
- ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒå®Ÿè¡Œä¸­ã§ã‚ã‚‹ã“ã¨
- åŸºæœ¬çš„ãªãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶š

## Sage Open WebUIãƒ¢ãƒ‡ãƒ«æ¥ç¶šæ€§

Sage Open WebUIãŒè¨­å®šæ¸ˆã¿ã®ãƒ¢ãƒ‡ãƒ«ã«æ­£å¸¸ã«æ¥ç¶šãŠã‚ˆã³ãƒªã‚¹ãƒˆã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã«ã¯ã€ãƒ¢ãƒ‡ãƒ«ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’ç›£è¦–ã—ã¾ã™ã€‚ã“ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã¯èªè¨¼ãŒå¿…è¦ã§ã€Sage Open WebUIãŒãƒ¢ãƒ‡ãƒ«ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã¨é€šä¿¡ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚

ãƒ¢ãƒ‡ãƒ«ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®è©³ç´°ã«ã¤ã„ã¦ã¯ã€[APIãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://docs.openwebui.com/getting-started/api-endpoints/#-retrieve-all-models)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

```bash
   # See steps below to get an API key
   curl -H "Authorization: Bearer sk-adfadsflkhasdflkasdflkh" https://your-sage-instance/api/models
```

### èªè¨¼è¨­å®š

1. APIã‚­ãƒ¼ã‚’æœ‰åŠ¹åŒ–ï¼ˆç®¡ç†è€…æ¨©é™ãŒå¿…è¦ï¼‰ï¼š
   - ç®¡ç†è€…è¨­å®š > ä¸€èˆ¬ã«ç§»å‹•
   - ã€ŒAPIã‚­ãƒ¼ã‚’æœ‰åŠ¹åŒ–ã€è¨­å®šã‚’æœ‰åŠ¹ã«ã™ã‚‹
   - å¤‰æ›´ã‚’ä¿å­˜

2. APIã‚­ãƒ¼ã‚’å–å¾—[docs](https://docs.openwebui.com/getting-started/api-endpoints)ï¼š
   - ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰ç›£è¦–ç”¨APIã‚­ãƒ¼ã®ãŸã‚ã«éç®¡ç†è€…ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ä½œæˆã™ã‚‹ã“ã¨ã‚’æ¤œè¨
   - Sage Open WebUIã®è¨­å®š > ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«ç§»å‹•
   - ç›£è¦–å°‚ç”¨ã®æ–°ã—ã„APIã‚­ãƒ¼ã‚’ç”Ÿæˆ
   - Uptime Kumaã§ä½¿ç”¨ã™ã‚‹ãŸã‚ã«APIã‚­ãƒ¼ã‚’ã‚³ãƒ”ãƒ¼

æ³¨ï¼šè¨­å®š > ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§APIã‚­ãƒ¼ã‚’ç”Ÿæˆã™ã‚‹ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒè¡¨ç¤ºã•ã‚Œãªã„å ´åˆã¯ã€ç®¡ç†è€…ã«ç¢ºèªã—ã¦APIã‚­ãƒ¼ãŒæœ‰åŠ¹ã«ãªã£ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚

### ãƒ¢ãƒ‡ãƒ«æ¥ç¶šæ€§ã®ãŸã‚ã®Uptime Kumaä½¿ç”¨

1. Uptime Kumaã§æ–°ã—ã„ãƒ¢ãƒ‹ã‚¿ãƒ¼ã‚’ä½œæˆï¼š
   - ãƒ¢ãƒ‹ã‚¿ãƒ¼ã‚¿ã‚¤ãƒ—ï¼šHTTP(s) - JSON Query
   - åå‰ï¼šSage Open WebUIãƒ¢ãƒ‡ãƒ«æ¥ç¶šæ€§
   - URLï¼š`http://your-sage-instance:8080/api/models`
   - ãƒ¡ã‚½ãƒƒãƒ‰ï¼šGET
   - æœŸå¾…ã•ã‚Œã‚‹ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰ï¼š200
   - JSONã‚¯ã‚¨ãƒªï¼š`$count(data[*])>0`
   - æœŸå¾…å€¤ï¼š`true`  
   - ç›£è¦–é–“éš”ï¼š300ç§’ï¼ˆ5åˆ†æ¨å¥¨ï¼‰

2. èªè¨¼ã‚’è¨­å®šï¼š
   - ãƒ˜ãƒƒãƒ€ãƒ¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ä»¥ä¸‹ã‚’è¿½åŠ ï¼š
     ```
     {
        "Authorization": "Bearer sk-abc123adfsdfsdfsdfsfdsdf"
     }
     ```
   - `YOUR_API_KEY`ã‚’ç”Ÿæˆã—ãŸAPIã‚­ãƒ¼ã«ç½®ãæ›ãˆ

ä»£æ›¿JSONã‚¯ã‚¨ãƒªï¼š

```
# At least 1 models by ollama provider
$count(data[owned_by='ollama'])>1

# Check if specific model exists (returns true/false)
$exists(data[id='gpt-4o'])

# Check multiple models (returns true if ALL exist)
$count(data[id in ['gpt-4o', 'gpt-4o-mini']]) = 2
```

JSONataã‚¯ã‚¨ãƒªã¯[jsonata.org](https://try.jsonata.org/)ã§ãƒ†ã‚¹ãƒˆã—ã¦ã€APIå¿œç­”ã§å‹•ä½œã™ã‚‹ã“ã¨ã‚’ç¢ºèªã§ãã¾ã™ã€‚

## ãƒ¢ãƒ‡ãƒ«å¿œç­”ãƒ†ã‚¹ãƒˆ

ãƒ¢ãƒ‡ãƒ«ãŒå®Ÿéš›ã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å‡¦ç†ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã«ã¯ã€ãƒãƒ£ãƒƒãƒˆè£œå®Œã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’ç›£è¦–ã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ãƒ¢ãƒ‡ãƒ«ãŒå¿œç­”ã‚’ç”Ÿæˆã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹è©³ç´°ãªãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ãŒæä¾›ã•ã‚Œã¾ã™ã€‚

```bash
# Test model response
curl -X POST https://your-sage-instance/api/chat/completions \
  -H "Authorization: Bearer sk-adfadsflkhasdflkasdflkh" \
  -H "Content-Type: application/json" \
  -d '{
    "messages": [{"role": "user", "content": "Respond with the word HEALTHY"}],
    "model": "llama3.1",
    "temperature": 0
  }'
```