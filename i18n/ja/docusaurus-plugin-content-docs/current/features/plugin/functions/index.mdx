---
sidebar_position: 1
title: "🧰 Functions"
---

## 🚀 ファンクションとは？

ファンクションはSage WebUIの**プラグイン**のようなものです。AnthropicやVertex AIのような新しいAIモデルプロバイダーのサポートを追加したり、メッセージの処理方法を調整したり、インターフェースにカスタムボタンを導入して使いやすさを向上させたりするなど、**機能を拡張**するのに役立ちます。

複雑な統合が必要な外部ツールとは異なり、**ファンクションは組み込みでSage WebUI環境内で実行されます**。つまり、高速でモジュール化されており、外部依存関係に依存しません。

ファンクションは、**モジュール式のビルディングブロック**と考えてください。WebUIの動作を必要に応じて強化できます。軽量で高度にカスタマイズ可能で、**純粋なPython**で書かれているため、新しいAIを活用したワークフローからGoogle検索やHome Assistantのようなツールとの統合まで、あらゆるものを作成する自由があります。

---

## 🏗️ ファンクションの種類

Sage WebUIには**3種類のファンクション**があり、それぞれに特定の目的があります。それぞれの機能を詳しく説明します：

---

### 1. [**パイプファンクション – カスタム「エージェント/モデル」を作成**](./pipe.mdx)

**パイプファンクション**は、**カスタムエージェント/モデル**や統合を作成する方法で、インターフェース上でスタンドアロンモデルのように表示されます。

**機能：**

- パイプを使用すると、複雑なワークフローを定義できます。たとえば、データを**モデルA**と**モデルB**に送信し、それらの出力を処理して、1つの最終的な回答に結合するパイプを作成できます。
- パイプはAIを使用する必要さえありません！**検索API**、**天気データ**、さらには**Home Assistant**のようなシステムのセットアップも可能です。基本的に、Sage WebUIの一部としてやり取りしたいものは何でも組み込めます。

**使用例：**  
Sage WebUIから直接Google検索をクエリしたいとします。次のようなパイプファンクションを作成できます：

1. メッセージを検索クエリとして受け取ります。  
2. クエリをGoogle検索のAPIに送信します。  
3. 応答を処理し、通常の「モデル」応答のようにWebUI内で返します。

有効にすると、**パイプファンクションは選択可能な独自のモデルとして表示されます**。インターフェースでモデルのように機能するカスタム機能が必要な場合は、パイプを使用してください。

詳細なガイドは[**パイプファンクション**](./pipe.mdx)をご覧ください。

---

### 2. [**フィルターファンクション – 入力と出力を変更**](./filter.mdx)

**フィルターファンクション**は、AIに送信される前**または**返された後のデータを調整するためのツールのようなものです。

**機能：**  
フィルターはワークフロー内の「フック」として機能し、2つの主要部分があります：

- **インレット**: モデルに送信される入力を調整します。たとえば、追加の指示、キーワード、またはフォーマットの調整を加えます。  
- **アウトレット**: モデルから受け取る出力を変更します。たとえば、応答を整理したり、トーンを調整したり、データを特定のスタイルにフォーマットしたりします。

**使用例：**  
正確なフォーマットが必要なプロジェクトに取り組んでいる場合、フィルターを使用して次のことを保証できます：

1. 入力が常に必要なフォーマットに変換されます。  
2. モデルからの出力が表示される前に整理されます。

フィルターは**特定のモデルにリンク**されるか、必要に応じてすべてのモデルに対して**グローバルに有効**にできます。

詳細な例と手順については、完全ガイドをご覧ください：[**フィルターファンクション**](./filter.mdx)。

---

### 3. [**アクションファンクション – カスタムボタンを追加**](./action.mdx)

**アクション関数**は、チャットインターフェースに**カスタムボタン**を追加するために使用されます。

**機能:**  
アクション関数を使用すると、チャットから直接特定の機能をトリガーする**インタラクティブなショートカット**を定義できます。これらのボタンは個々のチャットメッセージの下に表示され、定義したアクションにワンクリックでアクセスできる便利な手段を提供します。

**使用例:**  
長いメッセージを要約したり、翻訳などの特定の出力を生成する必要が頻繁にある場合、アクション関数を使用して以下のことが可能です:

1. 受信メッセージごとに「要約」ボタンを追加。  
2. クリックすると、そのメッセージを処理して要約を返すカスタム関数がトリガーされます。

ボタンは、定義した拡張機能と**クリーンでユーザーフレンドリーな方法**でインタラクションする手段を提供します。

設定方法については[**アクション関数ガイド**](./action.mdx)をご覧ください。

---

## 🛠️ 関数の使用方法

Sage WebUIで関数を活用する方法は以下の通りです:

### 1. **関数のインストール**

関数はSage WebUIのインターフェースからインストールするか、手動でインポートできます。コミュニティ作成の関数は[Sage WebUIコミュニティサイト](https://sage.education/functions)で見つかります。

⚠️ **注意:** 信頼できるソースからのみ関数をインストールしてください。未知のコードを実行するとセキュリティリスクがあります。

---

### 2. **関数の有効化**

インストール後、関数を明示的に有効化する必要があります:

- **パイプ関数**を有効化すると、インターフェースで独自の**モデル**として利用可能になります。  
- **フィルター**と**アクション関数**の場合、有効化だけでは不十分で、特定のモデルに割り当てるか、すべてのモデルでグローバルに有効化する必要があります。

---

### 3. **モデルへのフィルターまたはアクションの割り当て**

- `ワークスペース => モデル`に移動し、関連するモデルにフィルターまたはアクションを割り当てます。  
- または、`ワークスペース => 関数`に移動し、「...」メニューから**グローバル**スイッチを切り替えて、すべてのモデルで関数を有効化します。

---

### クイックサマリー

- **パイプ**は対話可能なスタンドアロンモデルとして表示されます。  
- **フィルター**はAIとのやり取りをスムーズにするため入出力を変更します。  
- **アクション**は個々のチャットメッセージにクリック可能なボタンを追加します。

セットアッププロセスを完了すると、関数がワークフローをシームレスに強化します。

---

## ✅ 関数を使用する理由

関数は、Sage WebUIで**新たな可能性を解き放ちたい**すべての人向けに設計されています:

- **拡張:** API、データベース、スマートデバイスなどの非AIツールと統合したり、新しいモデルを追加。  
- **最適化:** ユースケースに完璧に合うよう入出力を調整。  
- **簡素化:** インターフェースを直感的で効率的にするボタンやショートカットを追加。

特定のプロジェクト向けにワークフローをカスタマイズしたり、外部データを統合したり、単にSage WebUIをより使いやすくする場合でも、関数はインスタンスを制御する鍵となります。

---

### 📝 最終注意点:

1. 必ず**信頼できるソース**からのみ関数をインストールしてください。  
2. パイプ、フィルター、アクション関数の違いを理解し、効果的に使用してください。  
3. 公式ガイドを参照:  
   - [パイプ関数ガイド](./pipe.mdx)  
   - [フィルター関数ガイド](./filter.mdx)  
   - [アクション関数ガイド](./action.mdx)

関数を活用することで、Sage WebUIセットアップにまったく新しい機能をもたらせます。今日から実験を始めましょう！ 🚀