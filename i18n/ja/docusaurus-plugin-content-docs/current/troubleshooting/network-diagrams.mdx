---
sidebar_position: 3
title: "ğŸ•¸ï¸ Network Diagrams"
---

ã“ã“ã§ã¯ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã®ã•ã¾ã–ã¾ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒç•°ãªã‚‹ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã§ã©ã®ã‚ˆã†ã«ç›¸äº’ä½œç”¨ã™ã‚‹ã‹ã‚’ç†è§£ã™ã‚‹ãŸã‚ã®æ˜ç¢ºã§æ§‹é€ åŒ–ã•ã‚ŒãŸãƒ€ã‚¤ã‚¢ã‚°ãƒ©ãƒ ã‚’æä¾›ã—ã¾ã™ã€‚ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€macOS/WindowsãŠã‚ˆã³Linuxãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ä¸¡æ–¹ã‚’æ”¯æ´ã™ã‚‹ã‚ˆã†ã«è¨­è¨ˆã•ã‚Œã¦ã„ã¾ã™ã€‚å„ã‚·ãƒŠãƒªã‚ªã¯ã€ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆã¨å±•é–‹æˆ¦ç•¥ã«å¿œã˜ã¦è¨­å®šã•ã‚ŒãŸç›¸äº’ä½œç”¨ã‚’ç¤ºã™ãŸã‚ã«Mermaidãƒ€ã‚¤ã‚¢ã‚°ãƒ©ãƒ ã‚’ä½¿ç”¨ã—ã¦èª¬æ˜ã•ã‚Œã¦ã„ã¾ã™ã€‚

## Mac OS/Windows ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚ªãƒ—ã‚·ãƒ§ãƒ³ ğŸ–¥ï¸

### ãƒ›ã‚¹ãƒˆä¸Šã®Ollamaã€ã‚³ãƒ³ãƒ†ãƒŠå†…ã®Sage WebUI

ã“ã®ã‚·ãƒŠãƒªã‚ªã§ã¯ã€`Ollama`ãŒãƒ›ã‚¹ãƒˆãƒã‚·ãƒ³ä¸Šã§ç›´æ¥å®Ÿè¡Œã•ã‚Œã€`Sage WebUI`ãŒDockerã‚³ãƒ³ãƒ†ãƒŠå†…ã§å‹•ä½œã—ã¾ã™ã€‚

```mermaid
C4Context
Boundary(b0, "Hosting Machine - Mac OS/Windows") {
   Person(user, "User")
   Boundary(b1, "Docker Desktop's Linux VM") {
      Component(openwebui, "Sage WebUI", "Listening on port 8080")
   }
   Component(ollama, "Ollama", "Listening on port 11434")
}
Rel(openwebui, ollama, "Makes API calls via Docker proxy", "http://host.docker.internal:11434")
Rel(user, openwebui, "Makes requests via exposed port -p 3000:8080", "http://localhost:3000")
UpdateRelStyle(user, openwebui, $offsetX="-100", $offsetY="-50")
```

### Composeã‚¹ã‚¿ãƒƒã‚¯å†…ã®Ollamaã¨Sage WebUI

`Ollama`ã¨`Sage WebUI`ã®ä¸¡æ–¹ãŒåŒã˜Docker Composeã‚¹ã‚¿ãƒƒã‚¯å†…ã§æ§‹æˆã•ã‚Œã¦ãŠã‚Šã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯é€šä¿¡ãŒç°¡ç´ åŒ–ã•ã‚Œã¦ã„ã¾ã™ã€‚

```mermaid
C4Context
Boundary(b0, "Hosting Machine - Mac OS/Windows") {
   Person(user, "User")
   Boundary(b1, "Docker Desktop's Linux VM") {
      Boundary(b2, "Compose Stack") {
         Component(openwebui, "Sage WebUI", "Listening on port 8080")
         Component(ollama, "Ollama", "Listening on port 11434")
      }
   }
}
Rel(openwebui, ollama, "Makes API calls via inter-container networking", "http://ollama:11434")
Rel(user, openwebui, "Makes requests via exposed port -p 3000:8080", "http://localhost:3000")
UpdateRelStyle(user, openwebui, $offsetX="-100", $offsetY="-50")
```

### åˆ¥ã€…ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ä¸Šã®Ollamaã¨Sage WebUI

ã“ã“ã§ã¯ã€`Ollama`ã¨`Sage WebUI`ãŒåˆ¥ã€…ã®Dockerãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã«å±•é–‹ã•ã‚Œã¦ãŠã‚Šã€æ¥ç¶šæ€§ã®å•é¡ŒãŒç™ºç”Ÿã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚

```mermaid
C4Context
Boundary(b0, "Hosting Machine - Mac OS/Windows") {
   Person(user, "User")
   Boundary(b1, "Docker Desktop's Linux VM") {
      Boundary(b2, "Network A") {
         Component(openwebui, "Sage WebUI", "Listening on port 8080")
      }
      Boundary(b3, "Network B") {
         Component(ollama, "Ollama", "Listening on port 11434")
      }
   }
}
Rel(openwebui, ollama, "Unable to connect")
Rel(user, openwebui, "Makes requests via exposed port -p 3000:8080", "http://localhost:3000")
UpdateRelStyle(user, openwebui, $offsetX="-100", $offsetY="-50")
```

### ãƒ›ã‚¹ãƒˆãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å†…ã®Sage WebUI

ã“ã®æ§‹æˆã§ã¯ã€`Sage WebUI`ãŒãƒ›ã‚¹ãƒˆãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚’åˆ©ç”¨ã—ã¦ãŠã‚Šã€ç‰¹å®šã®ç’°å¢ƒã§ã®æ¥ç¶šèƒ½åŠ›ã«å½±éŸ¿ã‚’ä¸ãˆã¾ã™ã€‚

```mermaid
C4Context
Boundary(b0, "Hosting Machine - Mac OS/Windows") {
   Person(user, "User")
   Boundary(b1, "Docker Desktop's Linux VM") {
      Component(openwebui, "Sage WebUI", "Listening on port 8080")
   }
}
Rel(user, openwebui, "Unable to connect, host network is the VM's network")
UpdateRelStyle(user, openwebui, $offsetX="-100", $offsetY="-50")
```

## Linux ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚ªãƒ—ã‚·ãƒ§ãƒ³ ğŸ§

### ãƒ›ã‚¹ãƒˆä¸Šã®Ollamaã€ã‚³ãƒ³ãƒ†ãƒŠå†…ã®Sage WebUIï¼ˆLinuxï¼‰

ã“ã®ãƒ€ã‚¤ã‚¢ã‚°ãƒ©ãƒ ã¯Linuxãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã«ç‰¹åŒ–ã—ã¦ãŠã‚Šã€`Ollama`ãŒãƒ›ã‚¹ãƒˆä¸Šã§å®Ÿè¡Œã•ã‚Œã€`Sage WebUI`ãŒDockerã‚³ãƒ³ãƒ†ãƒŠå†…ã«å±•é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚

```mermaid
C4Context
Boundary(b0, "Hosting Machine - Linux") {
   Person(user, "User")
   Boundary(b1, "Container Network") {
      Component(openwebui, "Sage WebUI", "Listening on port 8080")
   }
   Component(ollama, "Ollama", "Listening on port 11434")
}
Rel(openwebui, ollama, "Makes API calls via Docker proxy", "http://host.docker.internal:11434")
Rel(user, openwebui, "Makes requests via exposed port -p 3000:8080", "http://localhost:3000")
UpdateRelStyle(user, openwebui, $offsetX="-100", $offsetY="-50")
```

### Composeã‚¹ã‚¿ãƒƒã‚¯å†…ã®Ollamaã¨Sage WebUIï¼ˆLinuxï¼‰

`Ollama`ã¨`Sage WebUI`ã®ä¸¡æ–¹ãŒåŒã˜Docker Composeã‚¹ã‚¿ãƒƒã‚¯å†…ã«å­˜åœ¨ã™ã‚‹ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã§ã€Linuxä¸Šã§ã®ã‚·ãƒ³ãƒ—ãƒ«ãªãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚’å¯èƒ½ã«ã—ã¾ã™ã€‚

```mermaid
C4Context
Boundary(b0, "Hosting Machine - Linux") {
   Person(user, "User")
   Boundary(b1, "Container Network") {
      Boundary(b2, "Compose Stack") {
         Component(openwebui, "Sage WebUI", "Listening on port 8080")
         Component(ollama, "Ollama", "Listening on port 11434")
      }
   }
}
Rel(openwebui, ollama, "Makes API calls via inter-container networking", "http://ollama:11434")
Rel(user, openwebui, "Makes requests via exposed port -p 3000:8080", "http://localhost:3000")
UpdateRelStyle(user, openwebui, $offsetX="-100", $offsetY="-50")
```

### åˆ¥ã€…ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ä¸Šã®Ollamaã¨Sage WebUIï¼ˆLinuxï¼‰

Linuxç’°å¢ƒä¸‹ã§`Ollama`ã¨`Sage WebUI`ãŒç•°ãªã‚‹Dockerãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã«ã‚ã‚‹ã‚·ãƒŠãƒªã‚ªã§ã€æ¥ç¶šæ€§ãŒå¦¨ã’ã‚‰ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚

```mermaid
C4Context
Boundary(b0, "Hosting Machine - Linux") {
   Person(user, "User")
   Boundary(b2, "Container Network A") {
      Component(openwebui, "Sage WebUI", "Listening on port 8080")
   }
   Boundary(b3, "Container Network B") {
      Component(ollama, "Ollama", "Listening on port 11434")
   }
}
Rel(openwebui, ollama, "Unable to connect")
Rel(user, openwebui, "Makes requests via exposed port -p 3000:8080", "http://localhost:3000")
UpdateRelStyle(user, openwebui, $offsetX="-100", $offsetY="-50")
```

### ãƒ›ã‚¹ãƒˆãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å†…ã®Sage WebUIã€ãƒ›ã‚¹ãƒˆä¸Šã®Ollamaï¼ˆLinuxï¼‰

`Sage WebUI`ã¨`Ollama`ã®ä¸¡æ–¹ãŒãƒ›ã‚¹ãƒˆã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚’ä½¿ç”¨ã™ã‚‹æœ€é©ãªãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã§ã€Linuxã‚·ã‚¹ãƒ†ãƒ ä¸Šã§ã®ã‚·ãƒ¼ãƒ ãƒ¬ã‚¹ãªç›¸äº’ä½œç”¨ã‚’ä¿ƒé€²ã—ã¾ã™ã€‚

```mermaid
C4Context
Boundary(b0, "Hosting Machine - Linux") {
   Person(user, "User")
   Component(openwebui, "Sage WebUI", "Listening on port 8080")
   Component(ollama, "Ollama", "Listening on port 11434")
}
Rel(openwebui, ollama, "Makes API calls via localhost", "http://localhost:11434")
Rel(user, openwebui, "Makes requests via listening port", "http://localhost:8080")
UpdateRelStyle(user, openwebui, $offsetX="-100", $offsetY="-50")
```

å„ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã¯ã€ç•°ãªã‚‹å±•é–‹æˆ¦ç•¥ã¨ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ§‹æˆã«å¯¾å¿œã—ã¦ãŠã‚Šã€è¦ä»¶ã«æœ€é©ãªãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’é¸æŠã™ã‚‹ã®ã«å½¹ç«‹ã¡ã¾ã™ã€‚