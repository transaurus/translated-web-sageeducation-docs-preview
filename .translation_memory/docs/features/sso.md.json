{
  "source_file_path_relative_to_docusaurus_root": "docs/features/sso.md",
  "source_file_content_hash": "d8d1a41fefb207dc02ae2013506e0dd10b33bfa00f803739a4082ec846324105",
  "segments": [
    {
      "segment_id": "58cfcc64",
      "source_content": "---\nsidebar_position: 19\ntitle: \"🔒 SSO: Federated Authentication Support\"\n---",
      "source_content_hash": "3e2853475b563791d728924af69bc00628a72529f9036277732c632ce5911ffd",
      "node_type": "yaml",
      "translatable": false,
      "translations": {
        "ja": "@@untranslatable_placeholder_58cfcc64"
      }
    },
    {
      "segment_id": "b3de8742",
      "source_content": "# Federated Authentication Support",
      "source_content_hash": "283b8e5dfe38c027cb28063ec10df98279ef43cfd559f9d06e4c7e85f2923d15",
      "node_type": "heading",
      "translatable": true,
      "translations": {
        "ja": "# フェデレーテッド認証のサポート"
      }
    },
    {
      "segment_id": "3fbbcc07",
      "source_content": "Sage WebUI supports several forms of federated authentication:",
      "source_content_hash": "f769e43ae3f47475cd47fdc262ba9b7f7ebf09bf60b6856f694e06ea9a8d7a41",
      "node_type": "paragraph",
      "translatable": true,
      "translations": {
        "ja": "Sage WebUIは以下のフェデレーテッド認証方式をサポートしています："
      }
    },
    {
      "segment_id": "4a5b6a68",
      "source_content": "1. OAuth2\n    1. Google\n    1. Microsoft\n    1. Github\n    1. OIDC\n1. Trusted Header",
      "source_content_hash": "7728c76685544f43b217512f1978fd9915dad5f038e48372759b4f9cf1a6f16d",
      "node_type": "list",
      "translatable": true,
      "translations": {
        "ja": "1. OAuth2\n    1. Google\n    1. Microsoft\n    1. Github\n    1. OIDC\n1. 信頼済みヘッダー"
      }
    },
    {
      "segment_id": "3daf1b88",
      "source_content": "## OAuth",
      "source_content_hash": "696b59394489d2e958441067828843f7deac8fed69ca5d1e3cb69224e5b5051d",
      "node_type": "heading",
      "translatable": true,
      "translations": {
        "ja": "## OAuth"
      }
    },
    {
      "segment_id": "f6168993",
      "source_content": "There are several global configuration options for OAuth:",
      "source_content_hash": "50fded835a51e5acccb7439bff6fa935598407efc00dbaa4d1f1d70ca9ee74a4",
      "node_type": "paragraph",
      "translatable": true,
      "translations": {
        "ja": "OAuthに関するグローバル設定オプションは以下の通りです："
      }
    },
    {
      "segment_id": "0787cf7f",
      "source_content": "1. `ENABLE_OAUTH_SIGNUP` - if `true`, allows accounts to be created when logging in with OAuth. Distinct from `ENABLE_SIGNUP`.\n1. `OAUTH_MERGE_ACCOUNTS_BY_EMAIL` - allows logging into an account that matches the email address provided by the OAuth provider.\n    - This is considered insecure as not all OAuth providers verify email addresses, and may allow accounts to be hijacked.",
      "source_content_hash": "83710cbcc0a6b4d138efedcb603949cbd61bb3a6741829031f9af36137dc1e6e",
      "node_type": "list",
      "translatable": true,
      "translations": {
        "ja": "1. `ENABLE_OAUTH_SIGNUP` - `true`の場合、OAuthログイン時にアカウント作成を許可します。`ENABLE_SIGNUP`とは異なります。\n1. `OAUTH_MERGE_ACCOUNTS_BY_EMAIL` - OAuthプロバイダーから提供されたメールアドレスに一致するアカウントへのログインを許可します。\n    - すべてのOAuthプロバイダーがメールアドレスを検証するわけではないため、これはセキュリティ上不安定とみなされ、アカウントの乗っ取りを許す可能性があります。"
      }
    },
    {
      "segment_id": "ed7dde9c",
      "source_content": "### Google",
      "source_content_hash": "ec36e113807cc425fff8a3e4f37f33a3479e69c4fa67b55ab5caf3cdc4e4ef6a",
      "node_type": "heading",
      "translatable": true,
      "translations": {
        "ja": "### Google"
      }
    },
    {
      "segment_id": "a76548f8",
      "source_content": "To configure a Google OAuth client, please refer to [Google's documentation](https://support.google.com/cloud/answer/6158849) on how to create a Google OAuth client for a **web application**.\nThe allowed redirect URI should include `<sage-open-webui>/oauth/google/callback`.",
      "source_content_hash": "155198e8ce7d8d36d48821dd08b83a30adad3624fc2e39ec3e0b8cec58f302de",
      "node_type": "paragraph",
      "translatable": true,
      "translations": {
        "ja": "Google OAuthクライアントを設定するには、**ウェブアプリケーション**向けのGoogle OAuthクライアント作成方法について[Googleのドキュメント](https://support.google.com/cloud/answer/6158849)を参照してください。\n許可されたリダイレクトURIには`<sage-open-webui>/oauth/google/callback`を含める必要があります。"
      }
    },
    {
      "segment_id": "26524352",
      "source_content": "The following environment variables are required:",
      "source_content_hash": "f8dfe6776474630f39a52a7ba0f13c0a7f13c4eaaacdc7028ffc1067cd0550e1",
      "node_type": "paragraph",
      "translatable": true,
      "translations": {
        "ja": "以下の環境変数が必須です："
      }
    },
    {
      "segment_id": "86b525ab",
      "source_content": "1. `GOOGLE_CLIENT_ID` - Google OAuth client ID\n1. `GOOGLE_CLIENT_SECRET` - Google OAuth client secret",
      "source_content_hash": "8f6f21e340842e8e331826dad8c8d8e448e738d4e6f0bf658ee8ee405e6a0c59",
      "node_type": "list",
      "translatable": true,
      "translations": {
        "ja": "1. `GOOGLE_CLIENT_ID` - Google OAuthクライアントID\n1. `GOOGLE_CLIENT_SECRET` - Google OAuthクライアントシークレット"
      }
    },
    {
      "segment_id": "f422383e",
      "source_content": "### Microsoft",
      "source_content_hash": "132dd7bdfec7f04bc71d6c82807b8ed51de60afbcc6ba9c2ceed212cb114bc20",
      "node_type": "heading",
      "translatable": true,
      "translations": {
        "ja": "### Microsoft"
      }
    },
    {
      "segment_id": "97ae4a01",
      "source_content": "To configure a Microsoft OAuth client, please refer to [Microsoft's documentation](https://learn.microsoft.com/en-us/entra/identity-platform/quickstart-register-app) on how to create a Microsoft OAuth client for a **web application**.\nThe allowed redirect URI should include `<sage-open-webui>/oauth/microsoft/callback`.",
      "source_content_hash": "285b1f335b7054b949fa78f56d52720097fef4fcdccc9da61355e369fcec21cd",
      "node_type": "paragraph",
      "translatable": true,
      "translations": {
        "ja": "Microsoft OAuthクライアントを設定するには、**ウェブアプリケーション**向けのMicrosoft OAuthクライアント作成方法について[Microsoftのドキュメント](https://learn.microsoft.com/en-us/entra/identity-platform/quickstart-register-app)を参照してください。\n許可されたリダイレクトURIには`<sage-open-webui>/oauth/microsoft/callback`を含める必要があります。"
      }
    },
    {
      "segment_id": "33331f27",
      "source_content": "Support for Microsoft OAuth is currently limited to a single tenant, that is a single Entra organization or personal Microsoft accounts.",
      "source_content_hash": "a96222ba7bacb3832366586b97bfae6ee59268fece7b6b9c6875c2f298c136c6",
      "node_type": "paragraph",
      "translatable": true,
      "translations": {
        "ja": "Microsoft OAuthのサポートは現在、単一テナント（単一のEntra組織または個人用Microsoftアカウント）に限定されています。"
      }
    },
    {
      "segment_id": "50746522",
      "source_content": "The following environment variables are required:",
      "source_content_hash": "f8dfe6776474630f39a52a7ba0f13c0a7f13c4eaaacdc7028ffc1067cd0550e1",
      "node_type": "paragraph",
      "translatable": true,
      "translations": {
        "ja": "以下の環境変数が必須です："
      }
    },
    {
      "segment_id": "aa83231c",
      "source_content": "1. `MICROSOFT_CLIENT_ID` - Microsoft OAuth client ID\n1. `MICROSOFT_CLIENT_SECRET` - Microsoft OAuth client secret\n1. `MICROSOFT_CLIENT_TENANT_ID` - Microsoft tenant ID - use `9188040d-6c67-4c5b-b112-36a304b66dad` for personal accounts",
      "source_content_hash": "ee958fac579e25827031fb07dbb4f80d5ce9242b9299fdf9b8edc51e36aa5ea8",
      "node_type": "list",
      "translatable": true,
      "translations": {
        "ja": "1. `MICROSOFT_CLIENT_ID` - Microsoft OAuthクライアントID\n1. `MICROSOFT_CLIENT_SECRET` - Microsoft OAuthクライアントシークレット\n1. `MICROSOFT_CLIENT_TENANT_ID` - MicrosoftテナントID - 個人アカウントの場合は`9188040d-6c67-4c5b-b112-36a304b66dad`を使用"
      }
    },
    {
      "segment_id": "c674e260",
      "source_content": "### Github",
      "source_content_hash": "c7b7b3658eb55b0d32619f5415749d936f932f8af3ab24cbd8daecc8b97a2f35",
      "node_type": "heading",
      "translatable": true,
      "translations": {
        "ja": "### Github"
      }
    },
    {
      "segment_id": "a44047a5",
      "source_content": "To configure a Github OAuth Client, please refer to [Github's documentation](https://docs.github.com/en/apps/oauth-apps/building-oauth-apps/authorizing-oauth-apps) on how to create a OAuth App or Github App for a **web application**.\nThe allowed redirect URI should include `<sage-open-webui>/oauth/github/callback`.",
      "source_content_hash": "48246e2f92980844d70a482eb1c770dbf6de1aa6b5f586be259fea07e681c2c7",
      "node_type": "paragraph",
      "translatable": true,
      "translations": {
        "ja": "Github OAuthクライアントを設定するには、**ウェブアプリケーション**向けのOAuth AppまたはGithub App作成方法について[Githubのドキュメント](https://docs.github.com/en/apps/oauth-apps/building-oauth-apps/authorizing-oauth-apps)を参照してください。\n許可されたリダイレクトURIには`<sage-open-webui>/oauth/github/callback`を含める必要があります。"
      }
    },
    {
      "segment_id": "98d26038",
      "source_content": "The following environment variables are required:",
      "source_content_hash": "f8dfe6776474630f39a52a7ba0f13c0a7f13c4eaaacdc7028ffc1067cd0550e1",
      "node_type": "paragraph",
      "translatable": true,
      "translations": {
        "ja": "以下の環境変数が必須です："
      }
    },
    {
      "segment_id": "c94a9c0e",
      "source_content": "1. `GITHUB_CLIENT_ID` - Github OAuth App Client ID\n1. `GITHUB_CLIENT_SECRET` - Github OAuth App Client Secret",
      "source_content_hash": "70f1ebaba2ecd9edc60d449fa44c0c3a78ce1d8af35e55ac5412a14498c9fb9d",
      "node_type": "list",
      "translatable": true,
      "translations": {
        "ja": "1. `GITHUB_CLIENT_ID` - Github OAuth AppクライアントID\n1. `GITHUB_CLIENT_SECRET` - Github OAuth Appクライアントシークレット"
      }
    },
    {
      "segment_id": "1a316f80",
      "source_content": "### OIDC",
      "source_content_hash": "f55c2cba428a87957075976cde435384983790c9d3053844d37d507f5f048e74",
      "node_type": "heading",
      "translatable": true,
      "translations": {
        "ja": "### OIDC"
      }
    },
    {
      "segment_id": "40158b4b",
      "source_content": "Any authentication provider that supports OIDC can be configured.\nThe `email` claim is required.\n`name` and `picture` claims are used if available.\nThe allowed redirect URI should include `<sage-open-webui>/oauth/oidc/callback`.",
      "source_content_hash": "56852d7397c61eba135ce87e0e6c0af0ae6bb59b3ad0994d38cba3434fc88669",
      "node_type": "paragraph",
      "translatable": true,
      "translations": {
        "ja": "OIDCをサポートする任意の認証プロバイダーを設定できます。\n`email`クレームが必須です。\n`name`および`picture`クレームが利用可能な場合は使用されます。\n許可されたリダイレクトURIには`<sage-open-webui>/oauth/oidc/callback`を含める必要があります。"
      }
    },
    {
      "segment_id": "5dae11e3",
      "source_content": "The following environment variables are used:",
      "source_content_hash": "9722aef888e0a4065378ed86abeb1071236827c7c376721315793aea30be294f",
      "node_type": "paragraph",
      "translatable": true,
      "translations": {
        "ja": "以下の環境変数が使用されます："
      }
    },
    {
      "segment_id": "180e9ce9",
      "source_content": "1. `OAUTH_CLIENT_ID` - OIDC client ID\n1. `OAUTH_CLIENT_SECRET` - OIDC client secret\n1. `OPENID_PROVIDER_URL` - OIDC well known URL, for example `https://accounts.google.com/.well-known/openid-configuration`\n1. `OAUTH_PROVIDER_NAME` - Name of the provider to show on the UI, defaults to SSO\n1. `OAUTH_SCOPES` - Scopes to request. Defaults to `openid email profile`",
      "source_content_hash": "63001612e5dd1e59a6294d38a2391db9f8c2d9df5a126090405cedd8d31c5b2e",
      "node_type": "list",
      "translatable": true,
      "translations": {
        "ja": "1. `OAUTH_CLIENT_ID` - OIDCクライアントID\n1. `OAUTH_CLIENT_SECRET` - OIDCクライアントシークレット\n1. `OPENID_PROVIDER_URL` - OIDC well known URL（例：`https://accounts.google.com/.well-known/openid-configuration`）\n1. `OAUTH_PROVIDER_NAME` - UIに表示するプロバイダー名、デフォルトはSSO\n1. `OAUTH_SCOPES` - リクエストするスコープ。デフォルトは`openid email profile`"
      }
    },
    {
      "segment_id": "d422fb13",
      "source_content": "### OAuth Role Management",
      "source_content_hash": "2155756952cf58350486da54fa24ecc0756ff3ed441a91ed0d10b23deddd9b69",
      "node_type": "heading",
      "translatable": true,
      "translations": {
        "ja": "### OAuthロール管理"
      }
    },
    {
      "segment_id": "f01228d3",
      "source_content": "Any OAuth provider that can be configured to return roles in the access token can be used to manage roles in Sage WebUI.\nTo use this feature set `ENABLE_OAUTH_ROLE_MANAGEMENT` to `true`.\nYou can configure the following environment variables to match the roles returned by the OAuth provider:",
      "source_content_hash": "d35e1843285c099b569efaa7f22bd9a4fc239d0af0125e4b582985b939ebb1e1",
      "node_type": "paragraph",
      "translatable": true,
      "translations": {
        "ja": "アクセストークン内でロールを返すように設定可能なOAuthプロバイダーであれば、Sage WebUIのロール管理に使用できます。\nこの機能を使用するには`ENABLE_OAUTH_ROLE_MANAGEMENT`を`true`に設定します。\nOAuthプロバイダーから返されるロールに合わせて以下の環境変数を設定できます："
      }
    },
    {
      "segment_id": "1316cb90",
      "source_content": "1. `OAUTH_ROLES_CLAIM` - The claim that contains the roles. Defaults to `roles`. Can also be nested, for example `user.roles`.\n1. `OAUTH_ALLOWED_ROLES` - A comma-separated list of roles that are allowed to log in (receive Sage WebUI role `user`).\n1. `OAUTH_ADMIN_ROLES` - A comma-separated list of roles that are allowed to log in as an admin (receive Sage WebUI role `admin`).",
      "source_content_hash": "4d68375d81e90bcb1a165e46f3edacb992ac38bbc303f597304e31f52b514eee",
      "node_type": "list",
      "translatable": true,
      "translations": {
        "ja": "1. `OAUTH_ROLES_CLAIM` - ロール情報を含むクレーム。デフォルトは `roles`。ネストも可能（例: `user.roles`）。\n1. `OAUTH_ALLOWED_ROLES` - ログインを許可するロールのカンマ区切りリスト（Sage WebUI ロール `user` が付与されます）。\n1. `OAUTH_ADMIN_ROLES` - 管理者としてログインを許可するロールのカンマ区切りリスト（Sage WebUI ロール `admin` が付与されます）。"
      }
    },
    {
      "segment_id": "17f3ca09",
      "source_content": ":::info\n\nIf changing the role of a logged in user, they will need to log out and log back in to receive the new role.\n\n:::",
      "source_content_hash": "d0cc9288965cf4a7fe5c3727c2f0d57319c2fd6194982d436dc32160d6c4ef79",
      "node_type": "containerDirective",
      "translatable": true,
      "translations": {
        "ja": ":::info\n\nログイン中のユーザーのロールを変更する場合、新しいロールを反映させるにはログアウトして再ログインする必要があります。\n\n:::"
      }
    },
    {
      "segment_id": "3a8d2b95",
      "source_content": "### OAuth Group Management",
      "source_content_hash": "dfc14bde7b27570d3292a44dcce6bd14af8c6dd5fd3913ebd4ce7c7a447c83bc",
      "node_type": "heading",
      "translatable": true,
      "translations": {
        "ja": "### OAuth グループ管理"
      }
    },
    {
      "segment_id": "5803caac",
      "source_content": "Any OAuth provider that can be configured to return groups in the access token can be used to manage user groups in Sage Open WebUI.\nTo use this feature set `ENABLE_OAUTH_GROUP_MANAGEMENT` to `true`.\nYou can configure the following environment variables to match the groups returned by the OAuth provider:",
      "source_content_hash": "a0b7088fa5f8c43e0d2b66bc0149bb567cbe3056b6280132fbc743666d0fbb32",
      "node_type": "paragraph",
      "translatable": true,
      "translations": {
        "ja": "アクセストークンでグループ情報を返すように設定可能なOAuthプロバイダーを使用して、Sage Open WebUIのユーザーグループを管理できます。\nこの機能を利用するには `ENABLE_OAUTH_GROUP_MANAGEMENT` を `true` に設定してください。\nOAuthプロバイダーから返されるグループ情報と連携するために、以下の環境変数を設定できます:"
      }
    },
    {
      "segment_id": "b0dbe2f3",
      "source_content": "1. `OAUTH_GROUP_CLAIM` - The claim that contains the groups. Defaults to `groups`. Can also be nested, for example `user.memberOf`.",
      "source_content_hash": "955a531bdc1e4f42e753f8ef1812042ecc0b3de0f2146048b5283cbb03187f35",
      "node_type": "list",
      "translatable": true,
      "translations": {
        "ja": "1. `OAUTH_GROUP_CLAIM` - グループ情報を含むクレーム。デフォルトは `groups`。ネストも可能（例: `user.memberOf`）。"
      }
    },
    {
      "segment_id": "29662466",
      "source_content": ":::warning\nAdmin users do not get their groups updated\n:::",
      "source_content_hash": "84a8a9ef71c8c5ed001df4df1af0ee0ae63579650d31410417965174eeff6f2d",
      "node_type": "containerDirective",
      "translatable": true,
      "translations": {
        "ja": ":::warning\n管理者ユーザーのグループ情報は更新されません\n:::"
      }
    },
    {
      "segment_id": "13f26ba5",
      "source_content": ":::info\n\nIf changing the group of a logged in user, they will need to log out and log back in to receive the new group.\n\n:::",
      "source_content_hash": "600cec67f0d6692518fa0304aca6e799feba964ac92bc1a973cebad5c5d69cb8",
      "node_type": "containerDirective",
      "translatable": true,
      "translations": {
        "ja": ":::info\n\nログイン中のユーザーのグループを変更する場合、新しいグループを反映させるにはログアウトして再ログインする必要があります。\n\n:::"
      }
    },
    {
      "segment_id": "42a5832e",
      "source_content": "## Trusted Header",
      "source_content_hash": "ab0d014b287e768d0538c2f620139d76210c8bc5c0d2474c69fed478e6f73e94",
      "node_type": "heading",
      "translatable": true,
      "translations": {
        "ja": "## 信頼済みヘッダー認証"
      }
    },
    {
      "segment_id": "0e80209e",
      "source_content": "Sage WebUI is able to delegate authentication to an authenticating reverse proxy that passes in the user's details in HTTP headers.\nThere are several example configurations that are provided in this page.",
      "source_content_hash": "de9abc8670c3bf5f8126e2414a00c4ca8699b6eb37eb873eabebebb251e4824b",
      "node_type": "paragraph",
      "translatable": true,
      "translations": {
        "ja": "Sage WebUIは、認証リバースプロキシからHTTPヘッダーで渡されるユーザー情報を使用した認証委譲が可能です。\nこのページではいくつかの設定例を提供しています。"
      }
    },
    {
      "segment_id": "43fbed67",
      "source_content": ":::danger\n\nIncorrect configuration can allow users to authenticate as any user on your Sage WebUI instance.\nMake sure to allow only the authenticating proxy access to Sage WebUI, such as setting `HOST=127.0.0.1` to only listen on the loopback interface.\n\n:::",
      "source_content_hash": "559417ed04ed2622b26594010455c8d8c0b162f116471573e54971979f72d955",
      "node_type": "containerDirective",
      "translatable": true,
      "translations": {
        "ja": ":::danger\n\n誤った設定を行うと、ユーザーがあなたのSage WebUIインスタンス上で任意のユーザーとして認証可能になる危険性があります。\n認証プロキシのみがSage WebUIにアクセスできるよう、例えば `HOST=127.0.0.1` を設定してループバックインターフェースのみでリッスンするなど、適切な対策を講じてください。\n\n:::"
      }
    },
    {
      "segment_id": "37fca32e",
      "source_content": "### Generic Configuration",
      "source_content_hash": "90fbc3a07de64423ef7bcff416bafb23736bae16ec99a133e58e4c1d6e5cbcaf",
      "node_type": "heading",
      "translatable": true,
      "translations": {
        "ja": "### 一般的な設定"
      }
    },
    {
      "segment_id": "a8610918",
      "source_content": "When the `WEBUI_AUTH_TRUSTED_EMAIL_HEADER` environment variable is set, Sage WebUI will use the value of the header specified as the email address of the user, handling automatic registration and login.",
      "source_content_hash": "fbfb612369b59151972e4aebd6912c5afec261bf16cd09b8d6e36cc95807b004",
      "node_type": "paragraph",
      "translatable": true,
      "translations": {
        "ja": "`WEBUI_AUTH_TRUSTED_EMAIL_HEADER` 環境変数が設定されている場合、Sage WebUIは指定されたヘッダーの値をユーザーのメールアドレスとして使用し、自動登録とログインを処理します。"
      }
    },
    {
      "segment_id": "a6c928a1",
      "source_content": "For example, setting `WEBUI_AUTH_TRUSTED_EMAIL_HEADER=X-User-Email` and passing a HTTP header of `X-User-Email: example@example.com` would authenticate the request with the email `example@example.com`.",
      "source_content_hash": "85706ecf381709af7bb72b0280ad99117e5b32fec21246ef44e13ea79562d936",
      "node_type": "paragraph",
      "translatable": true,
      "translations": {
        "ja": "例えば、`WEBUI_AUTH_TRUSTED_EMAIL_HEADER=X-User-Email` を設定し、HTTPヘッダー `X-User-Email: example@example.com` を渡すと、メールアドレス `example@example.com` で認証されます。"
      }
    },
    {
      "segment_id": "b6152880",
      "source_content": "Optionally, you can also define the `WEBUI_AUTH_TRUSTED_NAME_HEADER` to determine the name of any user being created using trusted headers. This has no effect if the user already exists.",
      "source_content_hash": "6cb7cbb266452d9f6e40f78c0ffdd2f9dd6ec80a213af149ac36410e4e25b109",
      "node_type": "paragraph",
      "translatable": true,
      "translations": {
        "ja": "オプションとして、`WEBUI_AUTH_TRUSTED_NAME_HEADER` を定義することで、信頼済みヘッダーを使用して作成されるユーザーの名前を決定できます。これは既存ユーザーには影響しません。"
      }
    },
    {
      "segment_id": "23b96cc0",
      "source_content": "### Tailscale Serve",
      "source_content_hash": "454208dc42cbab4ae7920baa1ab673b267db032578db76c4faa8ff5b31781cc7",
      "node_type": "heading",
      "translatable": true,
      "translations": {
        "ja": "### Tailscale Serve"
      }
    },
    {
      "segment_id": "8fcdd6d4",
      "source_content": "[Tailscale Serve](https://tailscale.com/kb/1242/tailscale-serve) allows you to share a service within your tailnet, and Tailscale will set the header `Tailscale-User-Login` with the email address of the requester.",
      "source_content_hash": "2c7020728fa895d731ed712ce6ed4fc443640a1aab263504d14cd5f779f95f94",
      "node_type": "paragraph",
      "translatable": true,
      "translations": {
        "ja": "[Tailscale Serve](https://tailscale.com/kb/1242/tailscale-serve) を使用すると、tailnet内でサービスを共有でき、Tailscaleはリクエスタのメールアドレスを `Tailscale-User-Login` ヘッダーに設定します。"
      }
    },
    {
      "segment_id": "53aa2b95",
      "source_content": "Below is an example serve config with a corresponding Docker Compose file that starts a Tailscale sidecar, exposing Sage WebUI to the tailnet with the tag `sage-open-webui` and hostname `sage-open-webui`, and can be reachable at `https://sage-open-webui.TAILNET_NAME.ts.net`.\nYou will need to create an OAuth client with device write permission to pass into the Tailscale container as `TS_AUTHKEY`.",
      "source_content_hash": "5c5e2d1cffab47940e0ca9e243bf20f6d5a182eaaf4e9705f871b25cb5727141",
      "node_type": "paragraph",
      "translatable": true,
      "translations": {
        "ja": "以下は、Tailscaleサイドカーを起動するDocker Composeファイルと対応するserve設定の例です。`sage-open-webui` タグとホスト名 `sage-open-webui` でtailnetにSage WebUIを公開し、`https://sage-open-webui.TAILNET_NAME.ts.net` でアクセス可能になります。\nTailscaleコンテナに渡すために、デバイス書き込み権限のあるOAuthクライアントを `TS_AUTHKEY` として作成する必要があります。"
      }
    },
    {
      "segment_id": "136818ce",
      "source_content": "```json title=\"tailscale/serve.json\"\n{\n    \"TCP\": {\n        \"443\": {\n            \"HTTPS\": true\n        }\n    },\n    \"Web\": {\n        \"${TS_CERT_DOMAIN}:443\": {\n            \"Handlers\": {\n                \"/\": {\n                    \"Proxy\": \"http://sage-open-webui:8080\"\n                }\n            }\n        }\n    }\n}\n\n```",
      "source_content_hash": "228ba105a9b9a00a7f746927bb6b47e803868e6ef112ca732971bea3a6f8567a",
      "node_type": "code",
      "translatable": false,
      "translations": {
        "ja": "@@untranslatable_placeholder_136818ce"
      }
    },
    {
      "segment_id": "5d30fd9b",
      "source_content": "```yaml title=\"docker-compose.yaml\"\n---\nservices:\n  sage-open-webui:\n    image: ghcr.io/Startr/AI-WEB-openwebui:main\n    volumes:\n      - sage-open-webui:/app/backend/data\n    environment:\n      - HOST=127.0.0.1\n      - WEBUI_AUTH_TRUSTED_EMAIL_HEADER=Tailscale-User-Login\n      - WEBUI_AUTH_TRUSTED_NAME_HEADER=Tailscale-User-Name\n    restart: unless-stopped\n  tailscale:\n    image: tailscale/tailscale:latest\n    environment:\n      - TS_AUTH_ONCE=true\n      - TS_AUTHKEY=${TS_AUTHKEY}\n      - TS_EXTRA_ARGS=--advertise-tags=tag:sage-open-webui\n      - TS_SERVE_CONFIG=/config/serve.json\n      - TS_STATE_DIR=/var/lib/tailscale\n      - TS_HOSTNAME=sage-open-webui\n    volumes:\n      - tailscale:/var/lib/tailscale\n      - ./tailscale:/config\n      - /dev/net/tun:/dev/net/tun\n    cap_add:\n      - net_admin\n      - sys_module\n    restart: unless-stopped\n\nvolumes:\n  sage-open-webui: {}\n  tailscale: {}\n```",
      "source_content_hash": "807d1d0345bf4b60bb298b810e8b8b4c007d74246e1b23d5636129d3adff4acf",
      "node_type": "code",
      "translatable": false,
      "translations": {
        "ja": "@@untranslatable_placeholder_5d30fd9b"
      }
    },
    {
      "segment_id": "34f28dd8",
      "source_content": ":::warning\n\nIf you run Tailscale in the same network context as Sage WebUI, then by default users will be able to directly reach out to Sage WebUI without going through the Serve proxy.\nYou will need use Tailscale's ACLs to restrict access to only port 443.\n\n:::",
      "source_content_hash": "ebe4a48ac8768766eaed6489e7501dd2dc14437f57419802859a8dca4925e685",
      "node_type": "containerDirective",
      "translatable": true,
      "translations": {
        "ja": ":::warning\n\nTailscaleをSage WebUIと同じネットワークコンテキストで実行する場合、デフォルトではユーザーがServeプロキシを経由せず直接Sage WebUIにアクセス可能になります。\nTailscaleのACLを使用して、ポート443へのアクセスのみを許可するように制限する必要があります。\n\n:::"
      }
    },
    {
      "segment_id": "de588fa2",
      "source_content": "### Cloudflare Tunnel with Cloudflare Access",
      "source_content_hash": "650b0b9d8c2f794d07f54545700036ace26dffe90deb4da1be5943643481995a",
      "node_type": "heading",
      "translatable": true,
      "translations": {
        "ja": "### Cloudflare TunnelとCloudflare Accessの連携"
      }
    },
    {
      "segment_id": "3799844b",
      "source_content": "[Cloudflare Tunnel](https://developers.cloudflare.com/cloudflare-one/connections/connect-networks/get-started/create-remote-tunnel/) can be used with [Cloudflare Access](https://developers.cloudflare.com/cloudflare-one/policies/access/) to protect Sage WebUI with SSO.\nThis is barely documented by Cloudflare, but `Cf-Access-Authenticated-User-Email` is set with the email address of the authenticated user.",
      "source_content_hash": "6259460d007b4ddf0d6541b31f15caaf69045377e42c5248da07ad7612b831ff",
      "node_type": "paragraph",
      "translatable": true,
      "translations": {
        "ja": "[Cloudflare Tunnel](https://developers.cloudflare.com/cloudflare-one/connections/connect-networks/get-started/create-remote-tunnel/)は[Cloudflare Access](https://developers.cloudflare.com/cloudflare-one/policies/access/)と組み合わせて使用でき、Sage WebUIをSSOで保護することができます。\nCloudflareによる公式ドキュメントはほとんどありませんが、`Cf-Access-Authenticated-User-Email`ヘッダーに認証済みユーザーのメールアドレスが設定されます。"
      }
    },
    {
      "segment_id": "3208eb29",
      "source_content": "Below is an example Docker Compose file that sets up a Cloudflare sidecar.\nConfiguration is done via the dashboard.\nFrom the dashboard, get a tunnel token, set the tunnel backend to `http://sage-open-webui:8080`, and ensure that \"Protect with Access\" is checked and configured.",
      "source_content_hash": "2db0f61b7b933e2c9ab15244690f44536b3181c4d178b2a9be6bb04487adcfa3",
      "node_type": "paragraph",
      "translatable": true,
      "translations": {
        "ja": "以下はCloudflareサイドカーをセットアップするDocker Composeファイルの例です。\n設定はダッシュボードから行います。\nダッシュボードからトンネルトークンを取得し、トンネルのバックエンドを`http://sage-open-webui:8080`に設定し、「Accessで保護」がチェックされ適切に設定されていることを確認してください。"
      }
    },
    {
      "segment_id": "117486ca",
      "source_content": "```yaml title=\"docker-compose.yaml\"\n---\nservices:\n  sage-open-webui:\n    image: ghcr.io/Startr/AI-WEB-openwebui:main\n    volumes:\n      - sage-open-webui:/app/backend/data\n    environment:\n      - HOST=127.0.0.1\n      - WEBUI_AUTH_TRUSTED_EMAIL_HEADER=Cf-Access-Authenticated-User-Email\n    restart: unless-stopped\n  cloudflared:\n    image: cloudflare/cloudflared:latest\n    environment:\n      - TUNNEL_TOKEN=${TUNNEL_TOKEN}\n    command: tunnel run\n    restart: unless-stopped\n\nvolumes:\n  sage-open-webui: {}\n\n```",
      "source_content_hash": "53c4cef32d09d0febd7322194b84da6e9d52f222ab3d06f5c449bf11a00f99c4",
      "node_type": "code",
      "translatable": false,
      "translations": {
        "ja": "@@untranslatable_placeholder_117486ca"
      }
    },
    {
      "segment_id": "43662a16",
      "source_content": "### oauth2-proxy",
      "source_content_hash": "56044eb4c285671746b57380a43dca7690a11a76c1af585b3c4a1c84cbc86004",
      "node_type": "heading",
      "translatable": true,
      "translations": {
        "ja": "### oauth2-proxy"
      }
    },
    {
      "segment_id": "85821ad3",
      "source_content": "[oauth2-proxy](https://oauth2-proxy.github.io/oauth2-proxy/) is an authenticating reverse proxy that implements social OAuth providers and OIDC support.",
      "source_content_hash": "e9d892777c900021ed9241043868d5f241101f6f43ba0bea4ec4327069444c6b",
      "node_type": "paragraph",
      "translatable": true,
      "translations": {
        "ja": "[oauth2-proxy](https://oauth2-proxy.github.io/oauth2-proxy/)は、ソーシャルOAuthプロバイダーとOIDCサポートを実装した認証リバースプロキシです。"
      }
    },
    {
      "segment_id": "228d01d5",
      "source_content": "Given the large number of potential configurations, below is an example of a potential setup with Google OAuth.\nPlease refer to `oauth2-proxy`'s documentation for detailed setup and any potential security gotchas.",
      "source_content_hash": "d6ebcfdb01c90368b4a50255360aff4ff4241e35611806be2ed77565d89ccf3c",
      "node_type": "paragraph",
      "translatable": true,
      "translations": {
        "ja": "多数の設定オプションが存在するため、以下はGoogle OAuthを使用した設定例です。\n詳細なセットアップや潜在的なセキュリティ上の注意点については、`oauth2-proxy`の公式ドキュメントを参照してください。"
      }
    },
    {
      "segment_id": "741c654c",
      "source_content": "```yaml title=\"docker-compose.yaml\"\nservices:\n  sage-open-webui:\n    image: ghcr.io/Startr/AI-WEB-openwebui:main\n    volumes:\n      - sage-open-webui:/app/backend/data\n    environment:\n      - 'HOST=127.0.0.1'\n      - 'WEBUI_AUTH_TRUSTED_EMAIL_HEADER=X-Forwarded-Email'\n      - 'WEBUI_AUTH_TRUSTED_NAME_HEADER=X-Forwarded-User'\n    restart: unless-stopped\n  oauth2-proxy:\n    image: quay.io/oauth2-proxy/oauth2-proxy:v7.6.0\n    environment:\n      OAUTH2_PROXY_HTTP_ADDRESS: 0.0.0.0:4180\n      OAUTH2_PROXY_UPSTREAMS: http://sage-open-webui:8080/\n      OAUTH2_PROXY_PROVIDER: google\n      OAUTH2_PROXY_CLIENT_ID: REPLACEME_OAUTH_CLIENT_ID\n      OAUTH2_PROXY_CLIENT_SECRET: REPLACEME_OAUTH_CLIENT_ID\n      OAUTH2_PROXY_EMAIL_DOMAINS: REPLACEME_ALLOWED_EMAIL_DOMAINS\n      OAUTH2_PROXY_REDIRECT_URL: REPLACEME_OAUTH_CALLBACK_URL\n      OAUTH2_PROXY_COOKIE_SECRET: REPLACEME_COOKIE_SECRET\n      OAUTH2_PROXY_COOKIE_SECURE: \"false\"\n    restart: unless-stopped\n    ports:\n      - 4180:4180/tcp\n```",
      "source_content_hash": "172942cb9847946665110865124c3c061551fa0bfcb5028120b79f84b17722ad",
      "node_type": "code",
      "translatable": false,
      "translations": {
        "ja": "@@untranslatable_placeholder_741c654c"
      }
    },
    {
      "segment_id": "e5878bb6",
      "source_content": "### Authentik",
      "source_content_hash": "5d292b0fba57988378cc8a58f710745437a8c873ec3ee6329e33d8b02794d8ef",
      "node_type": "heading",
      "translatable": true,
      "translations": {
        "ja": "### Authentik"
      }
    },
    {
      "segment_id": "12bc7444",
      "source_content": "To configure a [Authentik](https://goauthentik.io/) OAuth client, please refer to [documentation](https://docs.goauthentik.io/docs/applications) on how to create an application and `OAuth2/OpenID Provider`.\nThe allowed redirect URI should include `<sage-open-webui>/oauth/oidc/callback`.",
      "source_content_hash": "f2f85d781672b8f3f81c422a81ff8c67cf86bdccdc1610ea8a5017d0f571feb5",
      "node_type": "paragraph",
      "translatable": true,
      "translations": {
        "ja": "[Authentik](https://goauthentik.io/)のOAuthクライアントを設定するには、[アプリケーション作成方法](https://docs.goauthentik.io/docs/applications)と`OAuth2/OpenID Provider`に関するドキュメントを参照してください。\n許可されるリダイレクトURIには`<sage-open-webui>/oauth/oidc/callback`を含める必要があります。"
      }
    },
    {
      "segment_id": "bb5297fc",
      "source_content": "While creating provider, please note `App-name`, `Client-ID` and `Client-Secret` and use it for sage-open-webui environment variables:",
      "source_content_hash": "703911c81fd258e9b0c2c64de369cb5ee8a199ad1c7cbe4c450a91b2d455cbbd",
      "node_type": "paragraph",
      "translatable": true,
      "translations": {
        "ja": "プロバイダー作成時には、`App-name`、`Client-ID`、`Client-Secret`をメモし、それらをsage-open-webuiの環境変数として使用してください："
      }
    },
    {
      "segment_id": "8aee8de6",
      "source_content": "```\n      - 'ENABLE_OAUTH_SIGNUP=true'\n      - 'OAUTH_MERGE_ACCOUNTS_BY_EMAIL=true'\n      - 'OAUTH_PROVIDER_NAME=Authentik'\n      - 'OPENID_PROVIDER_URL=https://<authentik-url>/application/o/<App-name>/.well-known/openid-configuration'\n      - 'OAUTH_CLIENT_ID=<Client-ID>'\n      - 'OAUTH_CLIENT_SECRET=<Client-Secret>'\n      - 'OAUTH_SCOPES=openid email profile'\n      - 'OPENID_REDIRECT_URI=https://<sage-open-webui>/oauth/oidc/callback'\n```",
      "source_content_hash": "a00e887de1097b00cbbd6474782b9d24541df88ec05d575e65ca03c686291ff4",
      "node_type": "code",
      "translatable": false,
      "translations": {
        "ja": "@@untranslatable_placeholder_8aee8de6"
      }
    },
    {
      "segment_id": "9a53bcb1",
      "source_content": "### Authelia",
      "source_content_hash": "56646408d58f0cca8fe1b7724900163a633c80433588996e49951d9326d10928",
      "node_type": "heading",
      "translatable": true,
      "translations": {
        "ja": "### Authelia"
      }
    },
    {
      "segment_id": "bed77f05",
      "source_content": "[Authelia](https://www.authelia.com/) can be configured to return a header for use with trusted header authentication.\nDocumentation is available [here](https://www.authelia.com/integration/trusted-header-sso/introduction/).",
      "source_content_hash": "176658cdaf1bcacaabc45e99f034a5c0263131ff2915964429a8f5b6576abdc2",
      "node_type": "paragraph",
      "translatable": true,
      "translations": {
        "ja": "[Authelia](https://www.authelia.com/)は、信頼済みヘッダー認証で使用するヘッダーを返すように設定できます。\n設定方法については[こちら](https://www.authelia.com/integration/trusted-header-sso/introduction/)のドキュメントを参照してください。"
      }
    },
    {
      "segment_id": "e3bf03eb",
      "source_content": "No example configs are provided due to the complexity of deploying Authelia.",
      "source_content_hash": "2c9d47e5d0b9feb8bd5ad1a25ddbf38d7d206ffc5874d16170b699d71f226066",
      "node_type": "paragraph",
      "translatable": true,
      "translations": {
        "ja": "Autheliaのデプロイは複雑なため、設定例は提供していません。"
      }
    }
  ],
  "target_i18n_subpath": "docusaurus-plugin-content-docs/current/features/sso.md",
  "last_updated_timestamp": "2025-06-06T09:21:13.796558+00:00",
  "schema_version": "1.0",
  "translated_versions": {
    "ja": "d8d1a41fefb207dc02ae2013506e0dd10b33bfa00f803739a4082ec846324105"
  }
}