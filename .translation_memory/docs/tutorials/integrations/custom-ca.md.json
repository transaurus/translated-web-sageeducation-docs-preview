{
  "source_file_path_relative_to_docusaurus_root": "docs/tutorials/integrations/custom-ca.md",
  "source_file_content_hash": "838098173a81754458cef37683577fb1287289ce93540657bf2b7a4bfed95497",
  "segments": [
    {
      "segment_id": "58cfcc64",
      "source_content": "---\nsidebar_position: 14\ntitle: \"🛃 Setting up with Custom CA Store\"\n---",
      "source_content_hash": "6526b399cadfb6c60242153b2c4cce24dec589c7e1f96db4a26797707adedc93",
      "node_type": "yaml",
      "translatable": false,
      "translations": {
        "ja": "@@untranslatable_placeholder_58cfcc64"
      }
    },
    {
      "segment_id": "0eeea6cc",
      "source_content": ":::warning\nThis tutorial is a community contribution and is not supported by the Sage WebUI team. It serves only as a demonstration on how to customize Sage WebUI for your specific use case. Want to contribute? Check out the contributing tutorial.\n:::",
      "source_content_hash": "9deffb738cd50d6595571ff813d2388bdda279aad6934a7d7fdfb239906531ed",
      "node_type": "containerDirective",
      "translatable": true,
      "translations": {
        "ja": ":::warning\nこのチュートリアルはコミュニティによる寄稿であり、Sage WebUIチームによってサポートされていません。特定のユースケースに合わせてSage WebUIをカスタマイズする方法のデモンストレーションとして提供されています。寄稿したい場合は、寄稿チュートリアルを確認してください。\n:::"
      }
    },
    {
      "segment_id": "7e5c5a39",
      "source_content": "If you get an `[SSL: CERTIFICATE_VERIFY_FAILED]` error when trying to run OI, most likely the issue is that you are on a network which intercepts HTTPS traffic (e.g. a corporate network).",
      "source_content_hash": "54c23d4179fdc30c5afc9bb5d603cdc2ccc259b8bee3b0a218c2ed5a25610d6f",
      "node_type": "paragraph",
      "translatable": true,
      "translations": {
        "ja": "OIを実行しようとした際に`[SSL: CERTIFICATE_VERIFY_FAILED]`エラーが発生した場合、ほとんどの場合、HTTPSトラフィックをインターセプトするネットワーク（例：企業ネットワーク）に接続していることが原因です。"
      }
    },
    {
      "segment_id": "8d66f911",
      "source_content": "To fix this, you will need to add the new cert into OI's truststore.",
      "source_content_hash": "b401a55f7b99aba394fde6e77c8bca6d23de135da1c1f6bac80c45a02989e2e6",
      "node_type": "paragraph",
      "translatable": true,
      "translations": {
        "ja": "この問題を解決するには、新しい証明書をOIのトラストストアに追加する必要があります。"
      }
    },
    {
      "segment_id": "ad8fd492",
      "source_content": "**For pre-built Docker image**:",
      "source_content_hash": "5d91ffe9cb186ca43762956e95ca5f5d15ab900e27b0fb70186761767fec9b3b",
      "node_type": "paragraph",
      "translatable": true,
      "translations": {
        "ja": "**事前にビルドされたDockerイメージの場合**:"
      }
    },
    {
      "segment_id": "4ddf6ae7",
      "source_content": "1. Mount the certificate store from your host machine into the container by passing `--volume=/etc/ssl/certs/ca-certificates.crt:/etc/ssl/certs/ca-certificates.crt:ro` as a command-line option to `docker run`\n2. Force python to use the system truststore by setting `REQUESTS_CA_BUNDLE=/etc/ssl/certs/ca-certificates.crt` (see https://docs.docker.com/reference/cli/docker/container/run/#env)",
      "source_content_hash": "8aea5b746bf65b9792fafd4d6471f32881387a8464c9f05e89b781d7022d0da5",
      "node_type": "list",
      "translatable": true,
      "translations": {
        "ja": "1. ホストマシンの証明書ストアをコンテナにマウントします。`docker run`にコマンドラインオプション`--volume=/etc/ssl/certs/ca-certificates.crt:/etc/ssl/certs/ca-certificates.crt:ro`を渡します。\n2. Pythonにシステムのトラストストアを使用させるため、`REQUESTS_CA_BUNDLE=/etc/ssl/certs/ca-certificates.crt`を設定します（詳細はhttps://docs.docker.com/reference/cli/docker/container/run/#envを参照）。"
      }
    },
    {
      "segment_id": "f6168993",
      "source_content": "If the environment variable `REQUESTS_CA_BUNDLE` does not work try to set `SSL_CERT_FILE` (as per the [httpx documentation](https://www.python-httpx.org/environment_variables/#ssl_cert_file)) instead with the same value.",
      "source_content_hash": "aef78e417a4176abc56784c204af5787a3f700ba4ba290ac9378aa2ba03c3756",
      "node_type": "paragraph",
      "translatable": true,
      "translations": {
        "ja": "環境変数`REQUESTS_CA_BUNDLE`が機能しない場合は、[httpxドキュメント](https://www.python-httpx.org/environment_variables/#ssl_cert_file)に従って、同じ値で`SSL_CERT_FILE`を設定してみてください。"
      }
    },
    {
      "segment_id": "f5f6d2ce",
      "source_content": "Example `compose.yaml` from [@KizzyCode](https://github.com/Startr/AI-WEB-openwebui/issues/1398#issuecomment-2258463210):",
      "source_content_hash": "0ceb19848f99510fd258a0886e46eb668fb1dc48a80ddc3bfcb80299eb9e69b7",
      "node_type": "paragraph",
      "translatable": true,
      "translations": {
        "ja": "[@KizzyCode](https://github.com/Startr/AI-WEB-openwebui/issues/1398#issuecomment-2258463210)による`compose.yaml`の例:"
      }
    },
    {
      "segment_id": "41a8ae85",
      "source_content": "```yaml\nservices:\n  openwebui:\n    image: ghcr.io/Startr/AI-WEB-openwebui:main\n    volumes:\n      - /var/containers/openwebui:/app/backend/data:rw\n      - /etc/containers/openwebui/compusrv.crt:/etc/ssl/certs/ca-certificates.crt:ro\n      - /etc/timezone:/etc/timezone:ro\n      - /etc/localtime:/etc/localtime:ro\n    environment:\n      - WEBUI_NAME=compusrv\n      - ENABLE_SIGNUP=False\n      - ENABLE_COMMUNITY_SHARING=False\n      - WEBUI_SESSION_COOKIE_SAME_SITE=strict\n      - WEBUI_SESSION_COOKIE_SECURE=True\n      - ENABLE_OLLAMA_API=False\n      - REQUESTS_CA_BUNDLE=/etc/ssl/certs/ca-certificates.crt\n```",
      "source_content_hash": "0bf551129466ebf334a23927bc1bc6664470832e16699224c1fdf2fb83697e24",
      "node_type": "code",
      "translatable": false,
      "translations": {
        "ja": "@@untranslatable_placeholder_41a8ae85"
      }
    },
    {
      "segment_id": "50746522",
      "source_content": "The `ro` flag mounts the CA store as read-only and prevents accidental changes to your host CA store\n**For local development**:",
      "source_content_hash": "8c6761de5babcb30f5d9701e631454f85e8da8364f0f8f2e6ebd2c78e4647690",
      "node_type": "paragraph",
      "translatable": true,
      "translations": {
        "ja": "`ro`フラグはCAストアを読み取り専用でマウントし、ホストのCAストアへの誤った変更を防ぎます。\n**ローカル開発の場合**:"
      }
    },
    {
      "segment_id": "aa1e7006",
      "source_content": "You can also add the certificates in the build process by modifying the `Dockerfile`. This is useful if you want to make changes to the UI, for instance.\nSince the build happens in [multiple stages](https://docs.docker.com/build/building/multi-stage/), you have to add the cert into both",
      "source_content_hash": "6d9349b8eee0ff25491b622d423cfa1928d7a4cfa875a0f6757a5e8f9b6311ff",
      "node_type": "paragraph",
      "translatable": true,
      "translations": {
        "ja": "`Dockerfile`を変更してビルドプロセス中に証明書を追加することもできます。これは、UIに変更を加えたい場合などに便利です。\nビルドは[マルチステージ](https://docs.docker.com/build/building/multi-stage/)で行われるため、証明書を両方のステージに追加する必要があります。"
      }
    },
    {
      "segment_id": "cef3cb03",
      "source_content": "1. Frontend (`build` stage):",
      "source_content_hash": "75048061c2df1622196eec4aebcb9045c185e1f28f2da07dc070f575d006c8e2",
      "node_type": "list",
      "translatable": true,
      "translations": {
        "ja": "1. フロントエンド（`build`ステージ）:"
      }
    },
    {
      "segment_id": "95318d95",
      "source_content": "```dockerfile\nCOPY package.json package-lock.json <YourRootCert>.crt ./\nENV NODE_EXTRA_CA_CERTS=/app/<YourRootCert>.crt\nRUN npm ci\n```",
      "source_content_hash": "19c58a21004a1fed117a9fe6f7cdeb709c09930c87bad40a74db23fa999a6caa",
      "node_type": "code",
      "translatable": false,
      "translations": {
        "ja": "@@untranslatable_placeholder_95318d95"
      }
    },
    {
      "segment_id": "9b797309",
      "source_content": "2. Backend (`base` stage):",
      "source_content_hash": "9cfa6298e77c1694a51cfff305e5bcc10b55c0f3e43ba060abff65ddde31dcac",
      "node_type": "list",
      "translatable": true,
      "translations": {
        "ja": "2. バックエンド（`base`ステージ）:"
      }
    },
    {
      "segment_id": "ef0d086d",
      "source_content": "```dockerfile\nCOPY <CorporateSSL.crt> /usr/local/share/ca-certificates/\nRUN update-ca-certificates\nENV PIP_CERT=/etc/ssl/certs/ca-certificates.crt \\\n    REQUESTS_CA_BUNDLE=/etc/ssl/certs/ca-certificates.crt\n```",
      "source_content_hash": "7e0bee1749687bc9f7bc2fbf35433fe3c2822dd55d7bfee4f3f47631dd2a0b05",
      "node_type": "code",
      "translatable": false,
      "translations": {
        "ja": "@@untranslatable_placeholder_ef0d086d"
      }
    }
  ],
  "target_i18n_subpath": "docusaurus-plugin-content-docs/current/tutorials/integrations/custom-ca.md",
  "last_updated_timestamp": "2025-06-06T09:21:13.801445+00:00",
  "schema_version": "1.0",
  "translated_versions": {
    "ja": "838098173a81754458cef37683577fb1287289ce93540657bf2b7a4bfed95497"
  }
}